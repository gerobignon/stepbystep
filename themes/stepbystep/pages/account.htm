title = "Account settings"
layout = "default"
url = "/account"

[session]
security = "user"
redirect = "login"

[account]
requirePassword = 1
==

<div class="card mb-5 mb-lg-10">
    <div class="card-header border-0 cursor-pointer px-20">
        <div class="card-title m-0">
            <h3 class="fw-bolder m-0">Profile Details</h3>
        </div>
    </div>
    
    <div>
        <div class="card-body border-top py-9 px-20">

            {{ form_open({class: "form",  id:"account_form"}) }}

                <div class="row mb-6">
                    <label class="col-lg-4 col-form-label required fw-bold fs-6">Full Name</label>
                    <div class="col-lg-8">
                        <div class="row">
                            <div class="col-lg-6 fv-row">
                                <input type="text" name="name" readonly class="disabled form-control form-control-lg form-control-solid mb-3 mb-lg-0" placeholder="First name" value="{{ user.name }}">
                            </div>
                            <div class="col-lg-6 fv-row">
                                <input type="text" name="surname"  readonly class="disabled form-control form-control-lg form-control-solid" placeholder="Last name" value="{{ user.surname }}">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row mb-6">
                    <label class="col-lg-4 col-form-label required fw-bold fs-6">Email</label>
                    <div class="col-lg-8">
                        <div class="row">
                            <div class="col-12 fv-row">
                                <input type="email" name="email" readonly class="disabled form-control form-control-lg form-control-solid mb-3 mb-lg-0" placeholder="address@email.com" value="{{ user.email }}">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row mb-6">
                    <label class="col-lg-4 col-form-label required fw-bold fs-6">Whatsapp number (With prefix)</label>
                    <div class="col-lg-8">
                        <div class="row">
                            <div class="col-12 fv-row">
                                <input type="text" name="phone" readonly class="disabled form-control form-control-lg form-control-solid mb-3 mb-lg-0" placeholder="+234098989898" value="{{ user.phone }}">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row mb-6">
                    <label class="col-lg-4 col-form-label required fw-bold fs-6">Address</label>
                    <div class="col-lg-8">
                        <div class="row">
                            <div class="col-12 fv-row">
                                <input type="text" name="address" readonly class="disabled form-control form-control-lg form-control-solid mb-3 mb-lg-0" placeholder="Address" value="{{ user.address }}">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row mb-6">
                    <label class="col-lg-4 col-form-label required fw-bold fs-6">City</label>
                    <div class="col-lg-8">
                        <div class="row">
                            <div class="col-12 fv-row">
                                <input type="text" name="city" readonly class="disabled form-control form-control-lg form-control-solid mb-3 mb-lg-0" placeholder="City" value="{{ user.city }}">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row mb-6">
                    <label class="col-lg-4 col-form-label required fw-bold fs-6">Country</label>
                    <div class="col-lg-8">
                        <div class="row">
                            <div class="col-12 fv-row">
                                <input type="text" name="country" readonly class="disabled form-control form-control-lg form-control-solid mb-3 mb-lg-0" placeholder="Country" value="{{ user.country }}">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row mb-6">
                    <label class="col-lg-4 col-form-label required fw-bold fs-6">Type of ID</label>
                    <div class="col-lg-8">
                        <div class="row">
                            <div class="col-12 fv-row">
                                <input type="text" name="type" readonly class="disabled form-control form-control-lg form-control-solid mb-3 mb-lg-0" placeholder="Type of ID" value="{{ user.type }}">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row mb-6">
                    <label class="col-lg-4 col-form-label required fw-bold fs-6">ID Number</label>
                    <div class="col-lg-8">
                        <div class="row">
                            <div class="col-12 fv-row">
                                <input type="text" name="idnumber" readonly class="disabled form-control form-control-lg form-control-solid mb-3 mb-lg-0" placeholder="ID Number" value="{{ user.idnumber }}">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row mb-6">
                    <label class="col-lg-4 col-form-label required fw-bold fs-6">ID Expiration date</label>
                    <div class="col-lg-8">
                        <div class="row">
                            <div class="col-12 fv-row">
                                <input type="text" name="idexp" readonly class="disabled form-control form-control-lg form-control-solid mb-3 mb-lg-0" placeholder="ID Expiration date" value="{{ user.idexp }}">
                            </div>
                        </div>
                    </div>
                </div>
            
                <div class="card-footer d-flex justify-content-end py-6 px-9">
                    <button type="reset" class="btn btn-light btn-active-light-primary me-2">Discard</button>
                    <button type="button" class="disabled btn btn-primary" id="account_submit">
                        <span class="indicator-label">Save Changes</span>
                        <span class="indicator-progress">Please wait...
                        <span class="spinner-border spinner-border-sm align-middle ms-2"></span></span>
                    </button>
                </div>
            
            </form>

            </div>

            

    </div>
</div>
<div class="card">

    <div class="card-header border-0 cursor-pointer px-20">
        <div class="card-title m-0">
            <h3 class="fw-bolder m-0">Sign-in Options</h3>
        </div>
    </div>
    
    <div >
        <div class="card-body border-top py-9 px-20">
            <div class="d-flex flex-wrap align-items-center">
                <div id="kt_signin_email">
                    <div class="fs-6 fw-bolder mb-1">Email Address</div>
                    <div class="fw-bold text-gray-600">{{ user.email }}</div>
                </div>
            </div>
            
            <div class="separator separator-dashed my-6"></div>
            
            <div class="d-flex flex-wrap align-items-center mb-10">

                <div id="signin_password">
                    <div class="fs-6 fw-bolder mb-1">Password</div>
                    <div class="fw-bold text-gray-600">************</div>
                </div>
                
                <div id="signin_password_edit" class="flex-row-fluid d-none">
                
                    {{ form_open({class: "form",  id:"changepass_form"}) }}
                        <div class="row mb-1">
                            <div class="col-lg-4">
                                <div class="fv-row mb-0">
                                    <label for="accountPasswordCurrent" class="form-label fs-6 fw-bolder mb-3">Current Password</label>
                                    <input class="form-control form-control-lg form-control-solid" type="password" id="accountPasswordCurrent" name="password_current" autocomplete="off">
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="fv-row mb-0" data-kt-password-meter="true">
                                    <label for="accountPassword" class="form-label fs-6 fw-bolder mb-3">New Password</label>
                                    <div class="position-relative mb-3">
                                        <input class="form-control form-control-lg form-control-solid" type="password" id="accountPassword" name="password" autocomplete="off">
                                        <span class="btn btn-sm btn-icon position-absolute translate-middle top-50 end-0 me-n2" data-kt-password-meter-control="visibility">
                                            <i class="bi bi-eye-slash fs-2"></i>
                                            <i class="bi bi-eye fs-2 d-none"></i>
                                        </span>
                                    </div>
                                    <div class="d-flex align-items-center mb-3" data-kt-password-meter-control="highlight">
                                        <div class="flex-grow-1 bg-secondary bg-active-success rounded h-5px me-2"></div>
                                        <div class="flex-grow-1 bg-secondary bg-active-success rounded h-5px me-2"></div>
                                        <div class="flex-grow-1 bg-secondary bg-active-success rounded h-5px me-2"></div>
                                        <div class="flex-grow-1 bg-secondary bg-active-success rounded h-5px"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="fv-row mb-0">
                                    <label for="accountPasswordConfirm" class="form-label fs-6 fw-bolder mb-3">Confirm New Password</label>
                                    <input class="form-control form-control-lg form-control-solid" type="password" id="accountPasswordConfirm" name="password_confirmation" autocomplete="off">
                                </div>
                            </div>
                        </div>

                        <div class="form-text mb-5">Password must be at least 8 character and contain symbols</div>

                        <div class="d-flex">
                            <button id="password_cancel" type="button" class="btn btn-light btn-active-light-primary px-6">Cancel</button>
                            <button type="submit" class="btn btn-primary" id="changepass_submit">
                                <span class="indicator-label">Change password</span>
                                <span class="indicator-progress">Please wait...
                                <span class="spinner-border spinner-border-sm align-middle ms-2"></span></span>
                            </button>
                        </div>
                    </form>

                </div>
                
                <div id="signin_password_button" class="ms-auto">
                    <button type="button" class="btn btn-light btn-active-light-primary">Reset Password</button>
                </div>

            </div>
            
            <div class="notice d-flex bg-light-warning rounded border-warning border border-dashed p-6">
                <span class="svg-icon svg-icon-2tx svg-icon-danger me-4">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path opacity="0.3" d="M20.5543 4.37824L12.1798 2.02473C12.0626 1.99176 11.9376 1.99176 11.8203 2.02473L3.44572 4.37824C3.18118 4.45258 3 4.6807 3 4.93945V13.569C3 14.6914 3.48509 15.8404 4.4417 16.984C5.17231 17.8575 6.18314 18.7345 7.446 19.5909C9.56752 21.0295 11.6566 21.912 11.7445 21.9488C11.8258 21.9829 11.9129 22 12.0001 22C12.0872 22 12.1744 21.983 12.2557 21.9488C12.3435 21.912 14.4326 21.0295 16.5541 19.5909C17.8169 18.7345 18.8277 17.8575 19.5584 16.984C20.515 15.8404 21 14.6914 21 13.569V4.93945C21 4.6807 20.8189 4.45258 20.5543 4.37824Z" fill="currentColor" />
                        <path d="M10.5606 11.3042L9.57283 10.3018C9.28174 10.0065 8.80522 10.0065 8.51412 10.3018C8.22897 10.5912 8.22897 11.0559 8.51412 11.3452L10.4182 13.2773C10.8099 13.6747 11.451 13.6747 11.8427 13.2773L15.4859 9.58051C15.771 9.29117 15.771 8.82648 15.4859 8.53714C15.1948 8.24176 14.7183 8.24176 14.4272 8.53714L11.7002 11.3042C11.3869 11.6221 10.874 11.6221 10.5606 11.3042Z" fill="currentColor" />
                    </svg>
                </span>
                <div class="d-flex flex-stack flex-grow-1 flex-wrap flex-md-nowrap">
                    <div class="mb-3 mb-md-0 fw-bold">
                        <h4 class="text-gray-900 fw-bolder">Secure Your Account</h4>
                        <div class="fs-6 text-gray-700 pe-7">For your security, do not give your password to anyone and change it regularly.</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% put scripts %}
    <script src="assets/js/custom/account.js"></script>
    <script src="assets/js/custom/changepass.js"></script>
{% endput %}